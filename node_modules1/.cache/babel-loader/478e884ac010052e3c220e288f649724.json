{"ast":null,"code":"import \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport _classCallCheck from \"D:\\\\company\\\\algo-manage\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\company\\\\algo-manage\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\company\\\\algo-manage\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\company\\\\algo-manage\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\company\\\\algo-manage\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport \"antd/lib/form/style\";\nimport _Form from \"antd/lib/form\";\nvar _jsxFileName = \"D:\\\\company\\\\algo-manage\\\\src\\\\components\\\\SearchForm\\\\index.js\";\nimport React from \"react\";\nimport styles from \"./index.module.less\";\nvar FormItem = _Form.Item;\n\nvar SearchForm =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(SearchForm, _React$PureComponent);\n\n  function SearchForm() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, SearchForm);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(SearchForm)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.handleClick = function () {\n      var onSearchClick = _this.props.onSearchClick;\n\n      if (typeof onSearchClick == \"function\") {\n        onSearchClick({\n          form: _this.props.form\n        });\n      }\n    };\n\n    _this.onKeyup = function (e) {\n      if (e.keyCode === 13) {\n        _this.handleClick();\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(SearchForm, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props = this.props,\n          onReady = _this$props.onReady,\n          form = _this$props.form;\n\n      if (typeof onReady == \"function\") {\n        onReady({\n          form: form\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          _this$props2$fields = _this$props2.fields,\n          fields = _this$props2$fields === void 0 ? [] : _this$props2$fields,\n          form = _this$props2.form,\n          searchLoading = _this$props2.searchLoading,\n          _this$props2$btnText = _this$props2.btnText,\n          btnText = _this$props2$btnText === void 0 ? \"查询\" : _this$props2$btnText,\n          _this$props2$insertBt = _this$props2.insertBtnText,\n          insertBtnText = _this$props2$insertBt === void 0 ? \"新增\" : _this$props2$insertBt,\n          _this$props2$authObj = _this$props2.authObj,\n          authObj = _this$props2$authObj === void 0 ? {} : _this$props2$authObj;\n      var getFieldDecorator = form.getFieldDecorator; // let labelCol = {\n      //     xs: 8,\n      // };\n      // let wrapperCol = {\n      //     xs: 24 - labelCol.xs,\n      // };\n      // let formItemLayout = {\n      //     labelCol,\n      //     wrapperCol,\n      // };\n\n      var right = \"right\";\n\n      if (insertBtnText) {\n        right = \"right2\";\n      } // console.log(this.props.children);\n\n\n      return React.createElement(\"div\", {\n        className: styles.searchform,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: styles.left,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(_Form, {\n        layout: \"inline\",\n        onKeyUp: this.onKeyup,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, authObj.isQuery && fields.map(function (item) {\n        return React.createElement(FormItem, {\n          key: item.id,\n          label: item.label // {...formItemLayout}\n          ,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56\n          },\n          __self: this\n        }, getFieldDecorator(item.id, item.initialValue ? {\n          initialValue: item.initialValue,\n          rules: item.rules\n        } : {\n          rules: item.rules\n        })(item.component));\n      }))), React.createElement(\"div\", {\n        className: styles[right],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, authObj.isQuery && React.createElement(_Button, {\n        type: \"ghost\",\n        loading: searchLoading,\n        onClick: this.handleClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, btnText), this.props.children));\n    }\n  }]);\n\n  return SearchForm;\n}(React.PureComponent); //解决重复 id 的问题\n\n\nvar IdSearchForm =\n/*#__PURE__*/\nfunction (_React$PureComponent2) {\n  _inherits(IdSearchForm, _React$PureComponent2);\n\n  function IdSearchForm() {\n    _classCallCheck(this, IdSearchForm);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(IdSearchForm).apply(this, arguments));\n  }\n\n  _createClass(IdSearchForm, [{\n    key: \"render\",\n    value: function render() {\n      var pageId = this.props.pageId;\n\n      if (pageId) {\n        if (!this.formName) {\n          this.formName = \"search\" + pageId;\n          this.HocForm = _Form.create({\n            name: this.formName\n          })(SearchForm);\n        } // console.log(\"HocSearchForm 渲染 \", formName);\n        // let HocForm = Form.create({ name: this.formName })(SearchForm);\n\n\n        return React.createElement(this.HocForm, Object.assign({}, this.props, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112\n          },\n          __self: this\n        }));\n      } else {\n        //不带id\n        var HocForm = _Form.create()(SearchForm);\n\n        return React.createElement(HocForm, Object.assign({}, this.props, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116\n          },\n          __self: this\n        }));\n      }\n    }\n  }]);\n\n  return IdSearchForm;\n}(React.PureComponent);\n\nexport default IdSearchForm; // let formName = \"search\" + parseInt(Math.random() * 100000);\n// export default Form.create()(SearchForm);","map":{"version":3,"sources":["D:/company/algo-manage/src/components/SearchForm/index.js"],"names":["React","styles","FormItem","Item","SearchForm","handleClick","onSearchClick","props","form","onKeyup","e","keyCode","onReady","fields","searchLoading","btnText","insertBtnText","authObj","getFieldDecorator","right","searchform","left","isQuery","map","item","id","label","initialValue","rules","component","children","PureComponent","IdSearchForm","pageId","formName","HocForm","create","name"],"mappings":";;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,IAAMC,QAAQ,GAAG,MAAKC,IAAtB;;IAEMC,U;;;;;;;;;;;;;;;;;;UACFC,W,GAAc,YAAM;AAAA,UACVC,aADU,GACQ,MAAKC,KADb,CACVD,aADU;;AAEhB,UAAI,OAAOA,aAAP,IAAwB,UAA5B,EAAwC;AACpCA,QAAAA,aAAa,CAAC;AAAEE,UAAAA,IAAI,EAAE,MAAKD,KAAL,CAAWC;AAAnB,SAAD,CAAb;AACH;AACJ,K;;UAODC,O,GAAU,UAACC,CAAD,EAAO;AACb,UAAIA,CAAC,CAACC,OAAF,KAAc,EAAlB,EAAsB;AAClB,cAAKN,WAAL;AACH;AACJ,K;;;;;;;wCAVmB;AAAA,wBACQ,KAAKE,KADb;AAAA,UACVK,OADU,eACVA,OADU;AAAA,UACDJ,IADC,eACDA,IADC;;AAEhB,UAAI,OAAOI,OAAP,IAAkB,UAAtB,EAAkC;AAC9BA,QAAAA,OAAO,CAAC;AAAEJ,UAAAA,IAAI,EAAJA;AAAF,SAAD,CAAP;AACH;AACJ;;;6BAMQ;AAAA,yBAQD,KAAKD,KARJ;AAAA,6CAEDM,MAFC;AAAA,UAEDA,MAFC,oCAEQ,EAFR;AAAA,UAGDL,IAHC,gBAGDA,IAHC;AAAA,UAIDM,aAJC,gBAIDA,aAJC;AAAA,8CAKDC,OALC;AAAA,UAKDA,OALC,qCAKS,IALT;AAAA,+CAMDC,aANC;AAAA,UAMDA,aANC,sCAMe,IANf;AAAA,8CAODC,OAPC;AAAA,UAODA,OAPC,qCAOS,EAPT;AAAA,UASCC,iBATD,GASuBV,IATvB,CASCU,iBATD,EAUL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,UAAIC,KAAK,GAAG,OAAZ;;AACA,UAAIH,aAAJ,EAAmB;AACfG,QAAAA,KAAK,GAAG,QAAR;AACH,OAvBI,CAwBL;;;AACA,aACI;AAAK,QAAA,SAAS,EAAElB,MAAM,CAACmB,UAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAEnB,MAAM,CAACoB,IAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAM,QAAA,MAAM,EAAC,QAAb;AAAsB,QAAA,OAAO,EAAE,KAAKZ,OAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACKQ,OAAO,CAACK,OAAR,IACGT,MAAM,CAACU,GAAP,CAAW,UAACC,IAAD,EAAU;AACjB,eACI,oBAAC,QAAD;AACI,UAAA,GAAG,EAAEA,IAAI,CAACC,EADd;AAEI,UAAA,KAAK,EAAED,IAAI,CAACE,KAFhB,CAGI;AAHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAKKR,iBAAiB,CACdM,IAAI,CAACC,EADS,EAEdD,IAAI,CAACG,YAAL,GACM;AACIA,UAAAA,YAAY,EACRH,IAAI,CAACG,YAFb;AAGIC,UAAAA,KAAK,EAAEJ,IAAI,CAACI;AAHhB,SADN,GAMM;AAAEA,UAAAA,KAAK,EAAEJ,IAAI,CAACI;AAAd,SARQ,CAAjB,CASCJ,IAAI,CAACK,SATN,CALL,CADJ;AAkBH,OAnBD,CAFR,CADJ,CADJ,EA0BI;AAAK,QAAA,SAAS,EAAE5B,MAAM,CAACkB,KAAD,CAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACKF,OAAO,CAACK,OAAR,IACG;AACI,QAAA,IAAI,EAAC,OADT;AAEI,QAAA,OAAO,EAAER,aAFb;AAGI,QAAA,OAAO,EAAE,KAAKT,WAHlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAKKU,OALL,CAFR,EAmBK,KAAKR,KAAL,CAAWuB,QAnBhB,CA1BJ,CADJ;AAkDH;;;;EA7FoB9B,KAAK,CAAC+B,a,GA+F/B;;;IACMC,Y;;;;;;;;;;;;;6BACO;AAAA,UACCC,MADD,GACY,KAAK1B,KADjB,CACC0B,MADD;;AAEL,UAAIA,MAAJ,EAAY;AACR,YAAI,CAAC,KAAKC,QAAV,EAAoB;AAChB,eAAKA,QAAL,GAAgB,WAAWD,MAA3B;AACA,eAAKE,OAAL,GAAe,MAAKC,MAAL,CAAY;AAAEC,YAAAA,IAAI,EAAE,KAAKH;AAAb,WAAZ,EAAqC9B,UAArC,CAAf;AACH,SAJO,CAKR;AACA;;;AACA,eAAO,yBAAM,OAAN,oBAAkB,KAAKG,KAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAP;AACH,OARD,MAQO;AACH;AACA,YAAI4B,OAAO,GAAG,MAAKC,MAAL,GAAchC,UAAd,CAAd;;AACA,eAAO,oBAAC,OAAD,oBAAa,KAAKG,KAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAP;AACH;AACJ;;;;EAhBsBP,KAAK,CAAC+B,a;;AAkBjC,eAAeC,YAAf,C,CACA;AACA","sourcesContent":["import React from \"react\";\r\nimport { Button, Form } from \"antd\";\r\nimport styles from \"./index.module.less\";\r\nconst FormItem = Form.Item;\r\n\r\nclass SearchForm extends React.PureComponent {\r\n    handleClick = () => {\r\n        let { onSearchClick } = this.props;\r\n        if (typeof onSearchClick == \"function\") {\r\n            onSearchClick({ form: this.props.form });\r\n        }\r\n    };\r\n    componentDidMount() {\r\n        let { onReady, form } = this.props;\r\n        if (typeof onReady == \"function\") {\r\n            onReady({ form });\r\n        }\r\n    }\r\n    onKeyup = (e) => {\r\n        if (e.keyCode === 13) {\r\n            this.handleClick();\r\n        }\r\n    };\r\n    render() {\r\n        let {\r\n            fields = [],\r\n            form,\r\n            searchLoading,\r\n            btnText = \"查询\",\r\n            insertBtnText = \"新增\",\r\n            authObj = {},\r\n        } = this.props;\r\n        let { getFieldDecorator } = form;\r\n        // let labelCol = {\r\n        //     xs: 8,\r\n        // };\r\n        // let wrapperCol = {\r\n        //     xs: 24 - labelCol.xs,\r\n        // };\r\n        // let formItemLayout = {\r\n        //     labelCol,\r\n        //     wrapperCol,\r\n        // };\r\n        let right = \"right\";\r\n        if (insertBtnText) {\r\n            right = \"right2\";\r\n        }\r\n        // console.log(this.props.children);\r\n        return (\r\n            <div className={styles.searchform}>\r\n                <div className={styles.left}>\r\n                    <Form layout=\"inline\" onKeyUp={this.onKeyup}>\r\n                        {authObj.isQuery &&\r\n                            fields.map((item) => {\r\n                                return (\r\n                                    <FormItem\r\n                                        key={item.id}\r\n                                        label={item.label}\r\n                                        // {...formItemLayout}\r\n                                    >\r\n                                        {getFieldDecorator(\r\n                                            item.id,\r\n                                            item.initialValue\r\n                                                ? {\r\n                                                      initialValue:\r\n                                                          item.initialValue,\r\n                                                      rules: item.rules,\r\n                                                  }\r\n                                                : { rules: item.rules }\r\n                                        )(item.component)}\r\n                                    </FormItem>\r\n                                );\r\n                            })}\r\n                    </Form>\r\n                </div>\r\n                <div className={styles[right]}>\r\n                    {authObj.isQuery && (\r\n                        <Button\r\n                            type=\"ghost\"\r\n                            loading={searchLoading}\r\n                            onClick={this.handleClick}\r\n                        >\r\n                            {btnText}\r\n                        </Button>\r\n                    )}\r\n                    {/* <Button\r\n                        type=\"primary\"\r\n                        icon=\"plus\"\r\n                        style={{ width: \"104px\", marginLeft: \"24px\" }}\r\n                        loading={searchLoading}\r\n                        onClick={this.handleClick}\r\n                    >\r\n                        {insertBtnText}\r\n                    </Button> */}\r\n                    {this.props.children}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n//解决重复 id 的问题\r\nclass IdSearchForm extends React.PureComponent {\r\n    render() {\r\n        let { pageId } = this.props;\r\n        if (pageId) {\r\n            if (!this.formName) {\r\n                this.formName = \"search\" + pageId;\r\n                this.HocForm = Form.create({ name: this.formName })(SearchForm);\r\n            }\r\n            // console.log(\"HocSearchForm 渲染 \", formName);\r\n            // let HocForm = Form.create({ name: this.formName })(SearchForm);\r\n            return <this.HocForm {...this.props}></this.HocForm>;\r\n        } else {\r\n            //不带id\r\n            let HocForm = Form.create()(SearchForm);\r\n            return <HocForm {...this.props}></HocForm>;\r\n        }\r\n    }\r\n}\r\nexport default IdSearchForm;\r\n// let formName = \"search\" + parseInt(Math.random() * 100000);\r\n// export default Form.create()(SearchForm);\r\n"]},"metadata":{},"sourceType":"module"}
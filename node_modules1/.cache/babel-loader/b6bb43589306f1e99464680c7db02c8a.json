{"ast":null,"code":"import _classCallCheck from \"D:\\\\company\\\\algo-manage\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\company\\\\algo-manage\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\company\\\\algo-manage\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\company\\\\algo-manage\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\company\\\\algo-manage\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport \"antd/lib/form/style\";\nimport _Form from \"antd/lib/form\";\nvar _jsxFileName = \"D:\\\\company\\\\algo-manage\\\\src\\\\components\\\\DynamicForm\\\\index.js\";\nimport React from \"react\";\nvar FormItem = _Form.Item;\nimport styles from \"./index.module.less\";\n\nvar DynamicForm =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(DynamicForm, _React$PureComponent);\n\n  function DynamicForm() {\n    _classCallCheck(this, DynamicForm);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(DynamicForm).apply(this, arguments));\n  }\n\n  _createClass(DynamicForm, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props = this.props,\n          form = _this$props.form,\n          onReady = _this$props.onReady;\n\n      if (typeof onReady == \"function\") {\n        onReady({\n          form: form\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      // console.log(\"DynamicForm render\");\n      var _this$props2 = this.props,\n          form = _this$props2.form,\n          _this$props2$fields = _this$props2.fields,\n          fields = _this$props2$fields === void 0 ? [] : _this$props2$fields;\n      var getFieldDecorator = form.getFieldDecorator;\n      var labelCol = {\n        xs: this.props.labelCol || 6\n      };\n      var wrapperCol = {\n        xs: 24 - labelCol.xs\n      };\n      var formItemLayout = {// labelCol,\n        // wrapperCol,\n      }; // console.log(formItemLayout);\n\n      return React.createElement(_Form, {\n        layout: \"vertical\",\n        className: styles.dynamicForm,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29\n        },\n        __self: this\n      }, fields.map(function (item, index) {\n        return React.createElement(\"div\", {\n          className: styles.rowFlex,\n          key: item.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 32\n          },\n          __self: this\n        }, React.createElement(FormItem, Object.assign({\n          className: \"col\" + _this.props.col,\n          key: item.id,\n          label: item.label\n        }, formItemLayout, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 33\n          },\n          __self: this\n        }), item.valuePropName ? getFieldDecorator(item.id, {\n          valuePropName: \"checked\",\n          initialValue: item.initialValue === true,\n          rules: item.rules\n        })(item.component) : getFieldDecorator(item.id, {\n          initialValue: item.initialValue ? item.initialValue : \"\",\n          rules: item.rules\n        })(item.component)));\n      }));\n    }\n  }]);\n\n  return DynamicForm;\n}(React.PureComponent); //解决重复 id 的问题\n// let formName = \"form\" + parseInt(Math.random() * 100000);\n\n\nexport default _Form.create()(DynamicForm);","map":{"version":3,"sources":["D:/company/algo-manage/src/components/DynamicForm/index.js"],"names":["React","FormItem","Item","styles","DynamicForm","props","form","onReady","fields","getFieldDecorator","labelCol","xs","wrapperCol","formItemLayout","dynamicForm","map","item","index","rowFlex","id","col","label","valuePropName","initialValue","rules","component","PureComponent","create"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,IAAMC,QAAQ,GAAG,MAAKC,IAAtB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;;IAEMC,W;;;;;;;;;;;;;wCACkB;AAAA,wBACQ,KAAKC,KADb;AAAA,UACVC,IADU,eACVA,IADU;AAAA,UACJC,OADI,eACJA,OADI;;AAEhB,UAAI,OAAOA,OAAP,IAAkB,UAAtB,EAAkC;AAC9BA,QAAAA,OAAO,CAAC;AAAED,UAAAA,IAAI,EAAJA;AAAF,SAAD,CAAP;AACH;AACJ;;;6BACQ;AAAA;;AACL;AADK,yBAEuB,KAAKD,KAF5B;AAAA,UAECC,IAFD,gBAECA,IAFD;AAAA,6CAEOE,MAFP;AAAA,UAEOA,MAFP,oCAEgB,EAFhB;AAAA,UAGCC,iBAHD,GAGuBH,IAHvB,CAGCG,iBAHD;AAIL,UAAIC,QAAQ,GAAG;AACXC,QAAAA,EAAE,EAAE,KAAKN,KAAL,CAAWK,QAAX,IAAuB;AADhB,OAAf;AAGA,UAAIE,UAAU,GAAG;AACbD,QAAAA,EAAE,EAAE,KAAKD,QAAQ,CAACC;AADL,OAAjB;AAGA,UAAIE,cAAc,GAAG,CACjB;AACA;AAFiB,OAArB,CAVK,CAcL;;AACA,aACI;AAAM,QAAA,MAAM,EAAC,UAAb;AAAwB,QAAA,SAAS,EAAEV,MAAM,CAACW,WAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACKN,MAAM,CAACO,GAAP,CAAW,UAACC,IAAD,EAAOC,KAAP,EAAiB;AACzB,eACI;AAAK,UAAA,SAAS,EAAEd,MAAM,CAACe,OAAvB;AAAgC,UAAA,GAAG,EAAEF,IAAI,CAACG,EAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI,oBAAC,QAAD;AACI,UAAA,SAAS,EAAE,QAAQ,KAAI,CAACd,KAAL,CAAWe,GADlC;AAEI,UAAA,GAAG,EAAEJ,IAAI,CAACG,EAFd;AAGI,UAAA,KAAK,EAAEH,IAAI,CAACK;AAHhB,WAIQR,cAJR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAMKG,IAAI,CAACM,aAAL,GACKb,iBAAiB,CAACO,IAAI,CAACG,EAAN,EAAU;AACvBG,UAAAA,aAAa,EAAE,SADQ;AAEvBC,UAAAA,YAAY,EACRP,IAAI,CAACO,YAAL,KAAsB,IAHH;AAIvBC,UAAAA,KAAK,EAAER,IAAI,CAACQ;AAJW,SAAV,CAAjB,CAKGR,IAAI,CAACS,SALR,CADL,GAOKhB,iBAAiB,CAACO,IAAI,CAACG,EAAN,EAAU;AACvBI,UAAAA,YAAY,EAAEP,IAAI,CAACO,YAAL,GACRP,IAAI,CAACO,YADG,GAER,EAHiB;AAIvBC,UAAAA,KAAK,EAAER,IAAI,CAACQ;AAJW,SAAV,CAAjB,CAKGR,IAAI,CAACS,SALR,CAbV,CADJ,CADJ;AAwBH,OAzBA,CADL,CADJ;AA8BH;;;;EApDqBzB,KAAK,CAAC0B,a,GAsDhC;AACA;;;AACA,eAAe,MAAKC,MAAL,GAAcvB,WAAd,CAAf","sourcesContent":["import React from \"react\";\r\nimport { Form } from \"antd\";\r\nconst FormItem = Form.Item;\r\nimport styles from \"./index.module.less\";\r\n\r\nclass DynamicForm extends React.PureComponent {\r\n    componentDidMount() {\r\n        let { form, onReady } = this.props;\r\n        if (typeof onReady == \"function\") {\r\n            onReady({ form });\r\n        }\r\n    }\r\n    render() {\r\n        // console.log(\"DynamicForm render\");\r\n        let { form, fields = [] } = this.props;\r\n        let { getFieldDecorator } = form;\r\n        let labelCol = {\r\n            xs: this.props.labelCol || 6,\r\n        };\r\n        let wrapperCol = {\r\n            xs: 24 - labelCol.xs,\r\n        };\r\n        let formItemLayout = {\r\n            // labelCol,\r\n            // wrapperCol,\r\n        };\r\n        // console.log(formItemLayout);\r\n        return (\r\n            <Form layout=\"vertical\" className={styles.dynamicForm}>\r\n                {fields.map((item, index) => {\r\n                    return (\r\n                        <div className={styles.rowFlex} key={item.id}>\r\n                            <FormItem\r\n                                className={\"col\" + this.props.col}\r\n                                key={item.id}\r\n                                label={item.label}\r\n                                {...formItemLayout}\r\n                            >\r\n                                {item.valuePropName\r\n                                    ? getFieldDecorator(item.id, {\r\n                                          valuePropName: \"checked\",\r\n                                          initialValue:\r\n                                              item.initialValue === true,\r\n                                          rules: item.rules,\r\n                                      })(item.component)\r\n                                    : getFieldDecorator(item.id, {\r\n                                          initialValue: item.initialValue\r\n                                              ? item.initialValue\r\n                                              : \"\",\r\n                                          rules: item.rules,\r\n                                      })(item.component)}\r\n                            </FormItem>\r\n                        </div>\r\n                    );\r\n                })}\r\n            </Form>\r\n        );\r\n    }\r\n}\r\n//解决重复 id 的问题\r\n// let formName = \"form\" + parseInt(Math.random() * 100000);\r\nexport default Form.create()(DynamicForm);\r\n"]},"metadata":{},"sourceType":"module"}
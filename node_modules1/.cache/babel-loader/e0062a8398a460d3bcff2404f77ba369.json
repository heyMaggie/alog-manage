{"ast":null,"code":"import _defineProperty from \"D:\\\\company\\\\algo-manage\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"D:\\\\company\\\\algo-manage\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\company\\\\algo-manage\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport \"antd/lib/message/style\";\nimport _message from \"antd/lib/message\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport axios from \"axios\";\n\n_message.config({\n  top: 200,\n  duration: 1.5\n});\n\nvar baseUrl = \"\"; //根据环境  自动切换 IP\n\nif (process.env.NODE_ENV == \"development\") {\n  //开发环境\n  baseUrl = \"http://192.168.2.105:20080\"; // baseUrl = \"http://192.168.1.81:20080\";\n  // baseUrl = \"http://192.168.1.80:20080\";\n} else {\n  //生产环境  一键优选\n  baseUrl = \"/api\"; // baseUrl = window.pfBaseUrl;\n} // window.pfBaseUrl = baseUrl;\n\n\nvar PfAxios =\n/*#__PURE__*/\nfunction () {\n  function PfAxios() {\n    _classCallCheck(this, PfAxios);\n  }\n\n  _createClass(PfAxios, null, [{\n    key: \"get\",\n    value: function get(options) {\n      var _this = this;\n\n      var showLoading = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (showLoading) {\n        if (!this.loading) {\n          this.loading = document.getElementById(\"ajaxLoading\");\n        }\n\n        this.loading.style.display = \"block\";\n      }\n\n      return new Promise(function (resolve, reject) {\n        axios({\n          url: options.url,\n          method: \"get\",\n          timeout: 5000,\n          baseURL: options.baseUrl ? options.baseUrl : baseUrl,\n          params: options.data || \"\"\n        }).then(function (response) {\n          if (showLoading) {\n            _this.loading.style.display = \"none\";\n          }\n\n          if (response.status == \"200\") {\n            var res = response.data;\n\n            if (res.code == \"0\" || res.code == \"2000\" || res.code == \"10000\" || res.code == \"20000\") {\n              resolve(res);\n            } else {\n              _message.info({\n                title: \"提示\",\n                content: res.msg || res.message || \"获取数据失败\"\n              }); //失败回调\n\n\n              if (typeof options.error == \"function\") {\n                options.error();\n              }\n            }\n          } else {\n            reject(response.data);\n          }\n        }).catch(function (e) {\n          // console.log(e);\n          _message.warning({\n            title: \"提示\",\n            content: \"数据请求失败!\"\n          });\n        });\n      });\n    }\n  }, {\n    key: \"post\",\n    value: function post(options) {\n      var _this2 = this;\n\n      var showLoading = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (showLoading) {\n        if (!this.loading) {\n          this.loading = document.getElementById(\"ajaxLoading\");\n        }\n\n        this.loading.style.display = \"block\";\n      }\n\n      return new Promise(function (resolve, reject) {\n        axios({\n          url: options.url,\n          method: \"post\",\n          timeout: 5000,\n          baseURL: options.baseUrl ? options.baseUrl : baseUrl,\n          data: options.data || {}\n        }).then(function (response) {\n          if (showLoading) {\n            _this2.loading.style.display = \"none\";\n          }\n\n          if (response.status == \"200\") {\n            var res = response.data;\n\n            if (res.code == \"0\" || res.code == \"2000\" || res.code == \"10000\" || res.code == \"20000\") {\n              resolve(res);\n            } else {\n              _message.info({\n                title: \"提示\",\n                content: res.msg || res.message || \"获取数据失败\",\n                duration: \"3\"\n              }); //失败回调\n\n\n              if (typeof options.error == \"function\") {\n                options.error();\n              }\n            }\n          } else {\n            reject(response.data);\n          }\n        }).catch(function (e) {\n          // console.log(e);\n          _message.warning({\n            title: \"提示\",\n            content: \"数据请求失败!\"\n          });\n        });\n      });\n    }\n  }, {\n    key: \"request\",\n    value: function request(options) {\n      return new Promise(function (resolve, reject) {\n        axios(_objectSpread({}, options, {\n          method: options.method || \"get\",\n          url: options.url,\n          timeout: 5000,\n          baseURL: options.baseUrl ? options.baseUrl : baseUrl,\n          data: options.data || {},\n          headers: {\n            activityId: 118888\n          }\n        })).then(function (response) {\n          if (response.status == \"200\") {\n            var res = response.data;\n\n            if (res.code == \"0\" || res.code == \"2000\" || res.code == \"10000\") {\n              resolve(res);\n            } else {\n              _message.info({\n                title: \"提示\",\n                content: res.msg || res.message || \"获取数据失败\"\n              }); //失败回调\n\n\n              if (typeof options.error == \"function\") {\n                options.error();\n              }\n            }\n          } else {\n            reject(response.data);\n          }\n        }).catch(function (e) {\n          // console.log(e);\n          _message.warning({\n            title: \"提示\",\n            content: \"数据请求失败!\"\n          });\n        });\n      });\n    }\n  }]);\n\n  return PfAxios;\n}();\n\nexport { PfAxios as default };","map":{"version":3,"sources":["D:/company/algo-manage/src/utils/pfAxios.js"],"names":["axios","config","top","duration","baseUrl","process","env","NODE_ENV","PfAxios","options","showLoading","loading","document","getElementById","style","display","Promise","resolve","reject","url","method","timeout","baseURL","params","data","then","response","status","res","code","info","title","content","msg","message","error","catch","e","warning","headers","activityId"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport { message } from \"antd\";\r\nmessage.config({\r\n    top: 200,\r\n    duration: 1.5,\r\n});\r\nlet baseUrl = \"\";\r\n//根据环境  自动切换 IP\r\nif (process.env.NODE_ENV == \"development\") {\r\n    //开发环境\r\n    baseUrl = \"http://192.168.2.105:20080\";\r\n    // baseUrl = \"http://192.168.1.81:20080\";\r\n    // baseUrl = \"http://192.168.1.80:20080\";\r\n} else {\r\n    //生产环境  一键优选\r\n    baseUrl = \"/api\";\r\n    // baseUrl = window.pfBaseUrl;\r\n}\r\n// window.pfBaseUrl = baseUrl;\r\nexport default class PfAxios {\r\n    static get(options, showLoading = false) {\r\n        if (showLoading) {\r\n            if (!this.loading) {\r\n                this.loading = document.getElementById(\"ajaxLoading\");\r\n            }\r\n            this.loading.style.display = \"block\";\r\n        }\r\n        return new Promise((resolve, reject) => {\r\n            axios({\r\n                url: options.url,\r\n                method: \"get\",\r\n                timeout: 5000,\r\n                baseURL: options.baseUrl ? options.baseUrl : baseUrl,\r\n                params: options.data || \"\",\r\n            })\r\n                .then((response) => {\r\n                    if (showLoading) {\r\n                        this.loading.style.display = \"none\";\r\n                    }\r\n                    if (response.status == \"200\") {\r\n                        let res = response.data;\r\n                        if (\r\n                            res.code == \"0\" ||\r\n                            res.code == \"2000\" ||\r\n                            res.code == \"10000\" ||\r\n                            res.code == \"20000\"\r\n                        ) {\r\n                            resolve(res);\r\n                        } else {\r\n                            message.info({\r\n                                title: \"提示\",\r\n                                content:\r\n                                    res.msg || res.message || \"获取数据失败\",\r\n                            });\r\n                            //失败回调\r\n                            if (typeof options.error == \"function\") {\r\n                                options.error();\r\n                            }\r\n                        }\r\n                    } else {\r\n                        reject(response.data);\r\n                    }\r\n                })\r\n                .catch((e) => {\r\n                    // console.log(e);\r\n                    message.warning({\r\n                        title: \"提示\",\r\n                        content: \"数据请求失败!\",\r\n                    });\r\n                });\r\n        });\r\n    }\r\n    static post(options, showLoading = false) {\r\n        if (showLoading) {\r\n            if (!this.loading) {\r\n                this.loading = document.getElementById(\"ajaxLoading\");\r\n            }\r\n            this.loading.style.display = \"block\";\r\n        }\r\n        return new Promise((resolve, reject) => {\r\n            axios({\r\n                url: options.url,\r\n                method: \"post\",\r\n                timeout: 5000,\r\n                baseURL: options.baseUrl ? options.baseUrl : baseUrl,\r\n                data: options.data || {},\r\n            })\r\n                .then((response) => {\r\n                    if (showLoading) {\r\n                        this.loading.style.display = \"none\";\r\n                    }\r\n                    if (response.status == \"200\") {\r\n                        let res = response.data;\r\n                        if (\r\n                            res.code == \"0\" ||\r\n                            res.code == \"2000\" ||\r\n                            res.code == \"10000\" ||\r\n                            res.code == \"20000\"\r\n                        ) {\r\n                            resolve(res);\r\n                        } else {\r\n                            message.info({\r\n                                title: \"提示\",\r\n                                content:\r\n                                    res.msg || res.message || \"获取数据失败\",\r\n                                duration: \"3\",\r\n                            });\r\n                            //失败回调\r\n                            if (typeof options.error == \"function\") {\r\n                                options.error();\r\n                            }\r\n                        }\r\n                    } else {\r\n                        reject(response.data);\r\n                    }\r\n                })\r\n                .catch((e) => {\r\n                    // console.log(e);\r\n                    message.warning({\r\n                        title: \"提示\",\r\n                        content: \"数据请求失败!\",\r\n                    });\r\n                });\r\n        });\r\n    }\r\n    static request(options) {\r\n        return new Promise((resolve, reject) => {\r\n            axios({\r\n                ...options,\r\n                method: options.method || \"get\",\r\n                url: options.url,\r\n                timeout: 5000,\r\n                baseURL: options.baseUrl ? options.baseUrl : baseUrl,\r\n                data: options.data || {},\r\n                headers: {\r\n                    activityId: 118888,\r\n                },\r\n            })\r\n                .then((response) => {\r\n                    if (response.status == \"200\") {\r\n                        let res = response.data;\r\n                        if (\r\n                            res.code == \"0\" ||\r\n                            res.code == \"2000\" ||\r\n                            res.code == \"10000\"\r\n                        ) {\r\n                            resolve(res);\r\n                        } else {\r\n                            message.info({\r\n                                title: \"提示\",\r\n                                content:\r\n                                    res.msg || res.message || \"获取数据失败\",\r\n                            });\r\n                            //失败回调\r\n                            if (typeof options.error == \"function\") {\r\n                                options.error();\r\n                            }\r\n                        }\r\n                    } else {\r\n                        reject(response.data);\r\n                    }\r\n                })\r\n                .catch((e) => {\r\n                    // console.log(e);\r\n                    message.warning({\r\n                        title: \"提示\",\r\n                        content: \"数据请求失败!\",\r\n                    });\r\n                });\r\n        });\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}
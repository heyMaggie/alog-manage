{"ast":null,"code":"import _classCallCheck from \"D:\\\\company\\\\algo-manage\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\company\\\\algo-manage\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\company\\\\algo-manage\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\company\\\\algo-manage\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\company\\\\algo-manage\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport \"antd/lib/form/style\";\nimport _Form from \"antd/lib/form\";\nvar _jsxFileName = \"D:\\\\company\\\\algo-manage\\\\src\\\\components\\\\DynamicForm\\\\index.js\";\nimport React from \"react\";\nvar FormItem = _Form.Item;\nimport styles from \"./index.module.less\";\n\nvar DynamicForm =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(DynamicForm, _React$PureComponent);\n\n  function DynamicForm() {\n    _classCallCheck(this, DynamicForm);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(DynamicForm).apply(this, arguments));\n  }\n\n  _createClass(DynamicForm, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props = this.props,\n          form = _this$props.form,\n          onReady = _this$props.onReady;\n\n      if (typeof onReady == \"function\") {\n        onReady({\n          form: form\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      // console.log(\"DynamicForm render\");\n      var _this$props2 = this.props,\n          form = _this$props2.form,\n          _this$props2$fields = _this$props2.fields,\n          fields = _this$props2$fields === void 0 ? [] : _this$props2$fields;\n      var getFieldDecorator = form.getFieldDecorator;\n      var labelCol = {\n        xs: this.props.labelCol || 6\n      };\n      var wrapperCol = {\n        xs: 24 - labelCol.xs\n      };\n      var formItemLayout = {\n        labelCol: labelCol,\n        wrapperCol: wrapperCol\n      }; // console.log(formItemLayout);\n\n      return React.createElement(_Form, {\n        layout: \"vertical\",\n        className: styles.dynamicForm,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29\n        },\n        __self: this\n      }, fields.map(function (item, index) {\n        return React.createElement(FormItem, Object.assign({\n          key: item.id,\n          label: item.label\n        }, formItemLayout, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 32\n          },\n          __self: this\n        }), item.valuePropName ? getFieldDecorator(item.id, {\n          valuePropName: \"checked\",\n          initialValue: item.initialValue ? item.initialValue : undefined,\n          rules: item.rules\n        })(item.component) : getFieldDecorator(item.id, {\n          initialValue: item.initialValue ? item.initialValue : undefined,\n          rules: item.rules\n        })(item.component));\n      }));\n    }\n  }]);\n\n  return DynamicForm;\n}(React.PureComponent); //解决重复 id 的问题\n// let formName = \"form\" + parseInt(Math.random() * 100000);\n\n\nexport default _Form.create()(DynamicForm);","map":{"version":3,"sources":["D:/company/algo-manage/src/components/DynamicForm/index.js"],"names":["React","FormItem","Item","styles","DynamicForm","props","form","onReady","fields","getFieldDecorator","labelCol","xs","wrapperCol","formItemLayout","dynamicForm","map","item","index","id","label","valuePropName","initialValue","undefined","rules","component","PureComponent","create"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,IAAMC,QAAQ,GAAG,MAAKC,IAAtB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;;IAEMC,W;;;;;;;;;;;;;wCACkB;AAAA,wBACQ,KAAKC,KADb;AAAA,UACVC,IADU,eACVA,IADU;AAAA,UACJC,OADI,eACJA,OADI;;AAEhB,UAAI,OAAOA,OAAP,IAAkB,UAAtB,EAAkC;AAC9BA,QAAAA,OAAO,CAAC;AAAED,UAAAA,IAAI,EAAJA;AAAF,SAAD,CAAP;AACH;AACJ;;;6BACQ;AACL;AADK,yBAEuB,KAAKD,KAF5B;AAAA,UAECC,IAFD,gBAECA,IAFD;AAAA,6CAEOE,MAFP;AAAA,UAEOA,MAFP,oCAEgB,EAFhB;AAAA,UAGCC,iBAHD,GAGuBH,IAHvB,CAGCG,iBAHD;AAIL,UAAIC,QAAQ,GAAG;AACXC,QAAAA,EAAE,EAAE,KAAKN,KAAL,CAAWK,QAAX,IAAuB;AADhB,OAAf;AAGA,UAAIE,UAAU,GAAG;AACbD,QAAAA,EAAE,EAAE,KAAKD,QAAQ,CAACC;AADL,OAAjB;AAGA,UAAIE,cAAc,GAAG;AACjBH,QAAAA,QAAQ,EAARA,QADiB;AAEjBE,QAAAA,UAAU,EAAVA;AAFiB,OAArB,CAVK,CAcL;;AACA,aACI;AAAM,QAAA,MAAM,EAAC,UAAb;AAAwB,QAAA,SAAS,EAAET,MAAM,CAACW,WAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACKN,MAAM,CAACO,GAAP,CAAW,UAACC,IAAD,EAAOC,KAAP,EAAiB;AACzB,eACI,oBAAC,QAAD;AACI,UAAA,GAAG,EAAED,IAAI,CAACE,EADd;AAEI,UAAA,KAAK,EAAEF,IAAI,CAACG;AAFhB,WAGQN,cAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAKKG,IAAI,CAACI,aAAL,GACKX,iBAAiB,CAACO,IAAI,CAACE,EAAN,EAAU;AACvBE,UAAAA,aAAa,EAAE,SADQ;AAEvBC,UAAAA,YAAY,EAAEL,IAAI,CAACK,YAAL,GACRL,IAAI,CAACK,YADG,GAERC,SAJiB;AAKvBC,UAAAA,KAAK,EAAEP,IAAI,CAACO;AALW,SAAV,CAAjB,CAMGP,IAAI,CAACQ,SANR,CADL,GAQKf,iBAAiB,CAACO,IAAI,CAACE,EAAN,EAAU;AACvBG,UAAAA,YAAY,EAAEL,IAAI,CAACK,YAAL,GACRL,IAAI,CAACK,YADG,GAERC,SAHiB;AAIvBC,UAAAA,KAAK,EAAEP,IAAI,CAACO;AAJW,SAAV,CAAjB,CAKGP,IAAI,CAACQ,SALR,CAbV,CADJ;AAsBH,OAvBA,CADL,CADJ;AA4BH;;;;EAlDqBxB,KAAK,CAACyB,a,GAoDhC;AACA;;;AACA,eAAe,MAAKC,MAAL,GAActB,WAAd,CAAf","sourcesContent":["import React from \"react\";\r\nimport { Form } from \"antd\";\r\nconst FormItem = Form.Item;\r\nimport styles from \"./index.module.less\";\r\n\r\nclass DynamicForm extends React.PureComponent {\r\n    componentDidMount() {\r\n        let { form, onReady } = this.props;\r\n        if (typeof onReady == \"function\") {\r\n            onReady({ form });\r\n        }\r\n    }\r\n    render() {\r\n        // console.log(\"DynamicForm render\");\r\n        let { form, fields = [] } = this.props;\r\n        let { getFieldDecorator } = form;\r\n        let labelCol = {\r\n            xs: this.props.labelCol || 6,\r\n        };\r\n        let wrapperCol = {\r\n            xs: 24 - labelCol.xs,\r\n        };\r\n        let formItemLayout = {\r\n            labelCol,\r\n            wrapperCol,\r\n        };\r\n        // console.log(formItemLayout);\r\n        return (\r\n            <Form layout=\"vertical\" className={styles.dynamicForm}>\r\n                {fields.map((item, index) => {\r\n                    return (\r\n                        <FormItem\r\n                            key={item.id}\r\n                            label={item.label}\r\n                            {...formItemLayout}\r\n                        >\r\n                            {item.valuePropName\r\n                                ? getFieldDecorator(item.id, {\r\n                                      valuePropName: \"checked\",\r\n                                      initialValue: item.initialValue\r\n                                          ? item.initialValue\r\n                                          : undefined,\r\n                                      rules: item.rules,\r\n                                  })(item.component)\r\n                                : getFieldDecorator(item.id, {\r\n                                      initialValue: item.initialValue\r\n                                          ? item.initialValue\r\n                                          : undefined,\r\n                                      rules: item.rules,\r\n                                  })(item.component)}\r\n                        </FormItem>\r\n                    );\r\n                })}\r\n            </Form>\r\n        );\r\n    }\r\n}\r\n//解决重复 id 的问题\r\n// let formName = \"form\" + parseInt(Math.random() * 100000);\r\nexport default Form.create()(DynamicForm);\r\n"]},"metadata":{},"sourceType":"module"}
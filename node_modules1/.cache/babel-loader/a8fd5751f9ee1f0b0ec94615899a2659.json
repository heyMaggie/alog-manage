{"ast":null,"code":"import \"antd/lib/table/style\";\nimport _Table from \"antd/lib/table\";\nimport \"antd/lib/empty/style\";\nimport _Empty from \"antd/lib/empty\";\nimport _defineProperty from \"D:\\\\company\\\\algo-manage\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"D:\\\\company\\\\algo-manage\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\company\\\\algo-manage\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\company\\\\algo-manage\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\company\\\\algo-manage\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\company\\\\algo-manage\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\company\\\\algo-manage\\\\src\\\\components\\\\Table\\\\index.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from \"react\";\nimport styles from \"./index.module.less\";\nimport nodata from \"./nodata.png\";\n\nvar BasicTable =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(BasicTable, _React$PureComponent);\n\n  function BasicTable() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, BasicTable);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(BasicTable)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      pagination: {\n        size: \"small\",\n        showQuickJumper: true,\n        showSizeChanger: true,\n        current: 1,\n        // total:0,\n        // pageSize: 20,\n        pageSize: 0,\n        // pageSizeOptions: [\"10\", \"13\", \"20\", \"30\",\"50\"],\n        pageSizeOptions: [\"20\", \"40\", \"80\"],\n        showTotal: function showTotal(total) {\n          return \"\\u5171\".concat(total, \"\\u6761\");\n        }\n      }\n    };\n\n    _this.handlePagination = function (pagination, f, s, e) {\n      var params = {\n        current: pagination.current,\n        pageSize: pagination.pageSize,\n        total: pagination.total\n      };\n\n      if (_this.props.pagination) {\n        // this.props.handlePagination(params);\n        if (_this.props.handlePagination) {\n          _this.props.handlePagination(params);\n        } else {\n          _this.setState({\n            pagination: pagination\n          });\n        }\n      } else {\n        // console.log(\"自动分页 \", pagination);\n        _this.setState({\n          pagination: pagination\n        });\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(BasicTable, [{\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(nextProps) {// console.log(nextProps);\n      // let tbody = document.getElementsByClassName(\"ant-table-body\")[0];\n      // if (tbody && nextProps.dataSource && nextProps.dataSource.length > 0) {\n      //     tbody.style.height = nextProps.scroll.y + \"px\";\n      // }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          rowSelection = _this$props.rowSelection,\n          columns = _this$props.columns,\n          _this$props$dataSourc = _this$props.dataSource,\n          dataSource = _this$props$dataSourc === void 0 ? [] : _this$props$dataSourc,\n          scroll = _this$props.scroll,\n          pagination = _this$props.pagination,\n          _this$props$rowKey = _this$props.rowKey,\n          rowKey = _this$props$rowKey === void 0 ? \"key\" : _this$props$rowKey;\n\n      var newPagination = _objectSpread({}, this.state.pagination, {}, pagination);\n\n      if (pagination === false) {\n        newPagination = false;\n      } // console.log(pagination === false);\n\n\n      if (this.props.pageSize) {\n        if (newPagination.pageSize == 0) {\n          newPagination.pageSize = this.props.pageSize;\n        }\n\n        if (!newPagination.pageSizeOptions.includes(this.props.pageSize + \"\")) {\n          newPagination.pageSizeOptions.unshift(this.props.pageSize + \"\");\n        }\n      } // if (this.props.pageSize != pagination.pageSize) {\n      //     console.log(\"分页参数pageSize 与 表格 pageSize 不匹配\");\n      // }\n\n\n      var onRow = null;\n\n      if (this.props.showDetail) {\n        onRow = function onRow(record) {\n          return {\n            onDoubleClick: function onDoubleClick(event) {\n              if (typeof _this2.props.onDoubleClick == \"function\") {\n                _this2.props.onDoubleClick(record, event);\n              }\n            }\n          };\n        };\n      }\n\n      var empty = {\n        emptyText: React.createElement(_Empty, {\n          image: nodata,\n          imageStyle: {\n            height: 84,\n            width: 84,\n            marginLeft: \"calc(50% - 42px)\",\n            marginTop: \"186px\",\n            marginBottom: \"4px\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96\n          },\n          __self: this\n        })\n      };\n      return React.createElement(\"div\", {\n        className: styles.tableWrap,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(_Table, {\n        rowKey: rowKey,\n        className: \"basicTable\",\n        rowSelection: rowSelection,\n        columns: columns,\n        dataSource: dataSource,\n        scroll: scroll,\n        pagination: newPagination,\n        onChange: function onChange(p, f, s, e) {\n          return _this2.handlePagination(p, f, s, e);\n        },\n        locale: empty,\n        onRow: onRow,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }), dataSource.length == 0 ? React.createElement(\"div\", {\n        style: {\n          height: \"56px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }) : \"\");\n    }\n  }]);\n\n  return BasicTable;\n}(React.PureComponent);\n\nexport default BasicTable;","map":{"version":3,"sources":["D:/company/algo-manage/src/components/Table/index.js"],"names":["React","styles","nodata","BasicTable","state","pagination","size","showQuickJumper","showSizeChanger","current","pageSize","pageSizeOptions","showTotal","total","handlePagination","f","s","e","params","props","setState","nextProps","rowSelection","columns","dataSource","scroll","rowKey","newPagination","includes","unshift","onRow","showDetail","record","onDoubleClick","event","empty","emptyText","height","width","marginLeft","marginTop","marginBottom","tableWrap","p","length","PureComponent"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Table, Empty } from \"antd\";\r\nimport styles from \"./index.module.less\";\r\nimport nodata from \"./nodata.png\";\r\n\r\nclass BasicTable extends React.PureComponent {\r\n    state = {\r\n        pagination: {\r\n            size: \"small\",\r\n            showQuickJumper: true,\r\n            showSizeChanger: true,\r\n            current: 1,\r\n            // total:0,\r\n            // pageSize: 20,\r\n            pageSize: 0,\r\n            // pageSizeOptions: [\"10\", \"13\", \"20\", \"30\",\"50\"],\r\n            pageSizeOptions: [\"20\", \"40\", \"80\"],\r\n            showTotal: (total) => `共${total}条`,\r\n        },\r\n    };\r\n    handlePagination = (pagination, f, s, e) => {\r\n        let params = {\r\n            current: pagination.current,\r\n            pageSize: pagination.pageSize,\r\n            total: pagination.total,\r\n        };\r\n        if (this.props.pagination) {\r\n            // this.props.handlePagination(params);\r\n            if (this.props.handlePagination) {\r\n                this.props.handlePagination(params);\r\n            } else {\r\n                this.setState({\r\n                    pagination: pagination,\r\n                });\r\n            }\r\n        } else {\r\n            // console.log(\"自动分页 \", pagination);\r\n            this.setState({\r\n                pagination: pagination,\r\n            });\r\n        }\r\n    };\r\n    UNSAFE_componentWillReceiveProps(nextProps) {\r\n        // console.log(nextProps);\r\n        // let tbody = document.getElementsByClassName(\"ant-table-body\")[0];\r\n        // if (tbody && nextProps.dataSource && nextProps.dataSource.length > 0) {\r\n        //     tbody.style.height = nextProps.scroll.y + \"px\";\r\n        // }\r\n    }\r\n    render() {\r\n        let {\r\n            rowSelection,\r\n            columns,\r\n            dataSource = [],\r\n            scroll,\r\n            pagination,\r\n            rowKey = \"key\",\r\n        } = this.props;\r\n        let newPagination = {\r\n            ...this.state.pagination,\r\n            ...pagination,\r\n        };\r\n        if (pagination === false) {\r\n            newPagination = false;\r\n        }\r\n        // console.log(pagination === false);\r\n        if (this.props.pageSize) {\r\n            if (newPagination.pageSize == 0) {\r\n                newPagination.pageSize = this.props.pageSize;\r\n            }\r\n            if (\r\n                !newPagination.pageSizeOptions.includes(\r\n                    this.props.pageSize + \"\"\r\n                )\r\n            ) {\r\n                newPagination.pageSizeOptions.unshift(this.props.pageSize + \"\");\r\n            }\r\n        }\r\n        // if (this.props.pageSize != pagination.pageSize) {\r\n        //     console.log(\"分页参数pageSize 与 表格 pageSize 不匹配\");\r\n        // }\r\n        let onRow = null;\r\n        if (this.props.showDetail) {\r\n            onRow = (record) => {\r\n                return {\r\n                    onDoubleClick: (event) => {\r\n                        if (typeof this.props.onDoubleClick == \"function\") {\r\n                            this.props.onDoubleClick(record, event);\r\n                        }\r\n                    },\r\n                };\r\n            };\r\n        }\r\n        let empty = {\r\n            emptyText: (\r\n                <Empty\r\n                    image={nodata}\r\n                    imageStyle={{\r\n                        height: 84,\r\n                        width: 84,\r\n                        marginLeft: \"calc(50% - 42px)\",\r\n                        marginTop: \"186px\",\r\n                        marginBottom: \"4px\",\r\n                    }}\r\n                />\r\n            ),\r\n        };\r\n        return (\r\n            <div className={styles.tableWrap}>\r\n                <Table\r\n                    rowKey={rowKey}\r\n                    className=\"basicTable\"\r\n                    rowSelection={rowSelection}\r\n                    columns={columns}\r\n                    dataSource={dataSource}\r\n                    scroll={scroll}\r\n                    pagination={newPagination}\r\n                    onChange={(p, f, s, e) => this.handlePagination(p, f, s, e)}\r\n                    locale={empty}\r\n                    onRow={onRow}\r\n                />\r\n                {dataSource.length == 0 ? (\r\n                    <div style={{ height: \"56px\" }}></div>\r\n                ) : (\r\n                    \"\"\r\n                )}\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default BasicTable;\r\n"]},"metadata":{},"sourceType":"module"}
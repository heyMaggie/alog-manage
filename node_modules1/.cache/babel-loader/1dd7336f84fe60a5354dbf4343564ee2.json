{"ast":null,"code":"import \"antd/lib/alert/style\";\nimport _Alert from \"antd/lib/alert\";\nimport \"antd/lib/card/style\";\nimport _Card from \"antd/lib/card\";\nimport \"antd/lib/upload/style\";\nimport _Upload from \"antd/lib/upload\";\nimport \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport \"antd/lib/icon/style\";\nimport _Icon from \"antd/lib/icon\";\nimport _toConsumableArray from \"D:\\\\company\\\\algo-manage\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport \"antd/lib/message/style\";\nimport _message from \"antd/lib/message\";\nimport _classCallCheck from \"D:\\\\company\\\\algo-manage\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\company\\\\algo-manage\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\company\\\\algo-manage\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\company\\\\algo-manage\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\company\\\\algo-manage\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\company\\\\algo-manage\\\\src\\\\algo\\\\modules\\\\updown\\\\pages\\\\allInfo\\\\index.js\";\nimport React from \"react\";\n\nvar Demo =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Demo, _React$Component);\n\n  function Demo() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Demo);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Demo)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      fileList: [],\n      uploading: false\n    };\n\n    _this.handleUpload = function () {\n      var fileList = _this.state.fileList;\n      var formData = new FormData();\n      fileList.forEach(function (file) {\n        formData.append(\"files\", file);\n      });\n\n      _this.setState({\n        uploading: true\n      });\n\n      http.post({\n        url: \"/file/fileUpload\",\n        method: \"post\",\n        processData: false,\n        data: formData,\n        error: function error() {\n          _this.setState({\n            fileList: [],\n            uploading: false\n          });\n        }\n      }).then(function (res) {\n        _this.setState({\n          // fileList: [],\n          uploading: false\n        });\n\n        _message.success(\"文件全部上传成功!\");\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Demo, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          uploading = _this$state.uploading,\n          fileList = _this$state.fileList;\n      var props = {\n        accept: \".xml\",\n        multiple: true,\n        onRemove: function onRemove(file) {\n          _this2.setState(function (state) {\n            var index = state.fileList.indexOf(file);\n            var newFileList = state.fileList.slice();\n            newFileList.splice(index, 1);\n            return {\n              fileList: newFileList\n            };\n          });\n        },\n        beforeUpload: function beforeUpload(file) {\n          _this2.setState(function (state) {\n            return {\n              fileList: [].concat(_toConsumableArray(state.fileList), [file])\n            };\n          });\n\n          return false;\n        },\n        fileList: fileList\n      };\n      var test = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \"\\u7528\\u6237\\u4FE1\\u606F\\uFF1A userInfo.xml\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \"\\u8D44\\u91D1\\u4FE1\\u606F\\uFF1A userAsset.xml\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, \"\\u80A1\\u4E1C\\u4FE1\\u606F\\uFF1A stockHolder.xml\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, \"\\u7528\\u6237\\u7F51\\u5173\\uFF1A userPbuGwConfig.xml\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, \"\\u8BC1\\u5238\\u4FE1\\u606F\\uFF1A securityInfo.xml\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, \"\\u671F\\u6743\\u4FE1\\u606F\\uFF1A optionInfo.xml\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \"\\u7528\\u6237\\u914D\\u7F6E\\uFF1A userConfig.xml\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, \"\\u4EA4\\u6613\\u65F6\\u95F4\\u7EC4\\uFF1AtradeTimeGroup.xml\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, \"\\u6301\\u4ED3\\u9650\\u989D\\uFF1A positionLimit.xml\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, \"\\u671F\\u6743\\u6301\\u4ED3\\uFF1A optionPosition.xml\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, \"\\u4EA4\\u6613\\u7F51\\u5173\\uFF1A gwConfig.xml\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, \"\\u8D39\\u7387\\u914D\\u7F6E\\uFF1A feeRateConf.xml\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \"\\u7EC4\\u5408\\u6301\\u4ED3\\u7B56\\u7565\\uFF1A strategyPosition.xml\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \"\\u7EC4\\u5408\\u6301\\u4ED3\\u914D\\u7F6E\\uFF1A optionCombinationStrategy.xml\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, \"\\u5408\\u7EA6\\u54C1\\u79CD\\u6301\\u4ED3\\uFF1A contractVarietyPos.xml\"));\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(_Card, {\n        title: \"\\u591A\\u6587\\u4EF6\\u4E0A\\u4F20\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(_Upload, Object.assign({}, props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }), React.createElement(_Button, {\n        type: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(_Icon, {\n        type: \"plus\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }), \" \\u9009\\u62E9\\u6587\\u4EF6\")), React.createElement(_Button, {\n        type: \"primary\",\n        onClick: this.handleUpload,\n        disabled: fileList.length === 0,\n        loading: uploading,\n        style: {\n          marginTop: 16\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(_Icon, {\n        type: \"upload\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }), \" \", uploading ? \"上传中\" : \"文件上传\")), React.createElement(_Alert, {\n        message: \"\\u591A\\u6587\\u4EF6\\u4E0A\\u4F20,\\u4E0A\\u4F20\\u6587\\u4EF6\\u540D\\u9700\\u8981\\u9884\\u89C4\\u5B9A\\u6587\\u4EF6\\u540D\\u4E00\\u81F4,\\u624D\\u80FD\\u6B63\\u5E38\\u4E0A\\u4F20\\u3002\",\n        description: test,\n        type: \"info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Demo;\n}(React.Component);\n\nexport { Demo as default };","map":{"version":3,"sources":["D:/company/algo-manage/src/algo/modules/updown/pages/allInfo/index.js"],"names":["React","Demo","state","fileList","uploading","handleUpload","formData","FormData","forEach","file","append","setState","http","post","url","method","processData","data","error","then","res","success","props","accept","multiple","onRemove","index","indexOf","newFileList","slice","splice","beforeUpload","test","length","marginTop","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Upload, Button, Icon, message, Card, Alert } from \"antd\";\r\n\r\nexport default class Demo extends React.Component {\r\n    state = {\r\n        fileList: [],\r\n        uploading: false,\r\n    };\r\n\r\n    handleUpload = () => {\r\n        const { fileList } = this.state;\r\n        const formData = new FormData();\r\n        fileList.forEach((file) => {\r\n            formData.append(\"files\", file);\r\n        });\r\n\r\n        this.setState({\r\n            uploading: true,\r\n        });\r\n        http.post({\r\n            url: \"/file/fileUpload\",\r\n            method: \"post\",\r\n            processData: false,\r\n            data: formData,\r\n            error: () => {\r\n                this.setState({\r\n                    fileList: [],\r\n                    uploading: false,\r\n                });\r\n            },\r\n        }).then((res) => {\r\n            this.setState({\r\n                // fileList: [],\r\n                uploading: false,\r\n            });\r\n            message.success(\"文件全部上传成功!\");\r\n        });\r\n    };\r\n\r\n    render() {\r\n        const { uploading, fileList } = this.state;\r\n        const props = {\r\n            accept: \".xml\",\r\n            multiple: true,\r\n            onRemove: (file) => {\r\n                this.setState((state) => {\r\n                    const index = state.fileList.indexOf(file);\r\n                    const newFileList = state.fileList.slice();\r\n                    newFileList.splice(index, 1);\r\n                    return {\r\n                        fileList: newFileList,\r\n                    };\r\n                });\r\n            },\r\n            beforeUpload: (file) => {\r\n                this.setState((state) => ({\r\n                    fileList: [...state.fileList, file],\r\n                }));\r\n                return false;\r\n            },\r\n            fileList,\r\n        };\r\n        let test = (\r\n            <div>\r\n                <div>用户信息： userInfo.xml</div>\r\n                <div>资金信息： userAsset.xml</div>\r\n                <div>股东信息： stockHolder.xml</div>\r\n                <div>用户网关： userPbuGwConfig.xml</div>\r\n                <div>证券信息： securityInfo.xml</div>\r\n                <div>期权信息： optionInfo.xml</div>\r\n                <div>用户配置： userConfig.xml</div>\r\n                <div>交易时间组：tradeTimeGroup.xml</div>\r\n                <div>持仓限额： positionLimit.xml</div>\r\n                <div>期权持仓： optionPosition.xml</div>\r\n                <div>交易网关： gwConfig.xml</div>\r\n                <div>费率配置： feeRateConf.xml</div>\r\n                <div>组合持仓策略： strategyPosition.xml</div>\r\n                <div>组合持仓配置： optionCombinationStrategy.xml</div>\r\n                <div>合约品种持仓： contractVarietyPos.xml</div>\r\n            </div>\r\n        );\r\n        return (\r\n            <div>\r\n                <Card title=\"多文件上传\">\r\n                    <Upload {...props}>\r\n                        <Button type=\"primary\">\r\n                            <Icon type=\"plus\" /> 选择文件\r\n                        </Button>\r\n                    </Upload>\r\n                    <Button\r\n                        type=\"primary\"\r\n                        onClick={this.handleUpload}\r\n                        disabled={fileList.length === 0}\r\n                        loading={uploading}\r\n                        style={{ marginTop: 16 }}\r\n                    >\r\n                        <Icon type=\"upload\" />{\" \"}\r\n                        {uploading ? \"上传中\" : \"文件上传\"}\r\n                    </Button>\r\n                </Card>\r\n                <Alert\r\n                    message=\"多文件上传,上传文件名需要预规定文件名一致,才能正常上传。\"\r\n                    description={test}\r\n                    type=\"info\"\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}
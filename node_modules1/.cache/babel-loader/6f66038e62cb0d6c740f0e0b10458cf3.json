{"ast":null,"code":"import \"antd/lib/form/style\";\nimport _Form from \"antd/lib/form\";\nimport \"antd/lib/message/style\";\nimport _message from \"antd/lib/message\";\nimport _classCallCheck from \"D:\\\\company\\\\algo-manage\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\company\\\\algo-manage\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\company\\\\algo-manage\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\company\\\\algo-manage\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"D:\\\\company\\\\algo-manage\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"D:\\\\company\\\\algo-manage\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport \"antd/lib/input/style\";\nimport _Input from \"antd/lib/input\";\nvar _jsxFileName = \"D:\\\\company\\\\algo-manage\\\\src\\\\algo\\\\modules\\\\manage\\\\pages\\\\counterGw\\\\index.js\";\nimport React from \"react\";\nimport CurdComponent from \"@/components/CurdComponent\"; // import SelectOption from \"@/components/SelectOption\";\n\nimport styles from \"./style.module.less\";\n\nvar getSearchFormFields = function getSearchFormFields() {\n  return [// {\n  //     label: \"保证金账户\",\n  //     id: \"assetAccount\",\n  //     component: <Input placeholder=\"请输入保证金账户\" />,\n  // },\n  {\n    label: \"用户ID\",\n    // id: \"userId\",\n    id: \"user_id\",\n    component: React.createElement(_Input, {\n      placeholder: \"\\u8BF7\\u8F93\\u5165\\u7528\\u6237ID\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 18\n      },\n      __self: this\n    })\n  }];\n};\n\nvar getUpdateFormFields = function getUpdateFormFields() {\n  return [{\n    label: \"用户ID\",\n    id: \"userId\",\n    component: React.createElement(_Input, {\n      readOnly: true,\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27\n      },\n      __self: this\n    })\n  }, {\n    label: \"用户名\",\n    id: \"userName\",\n    component: React.createElement(_Input, {\n      readOnly: true,\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    })\n  }, {\n    label: \"柜台网关Id\",\n    id: \"counterGwId\",\n    rules: [{\n      required: true,\n      message: \"柜台网关Id不能为空\"\n    }],\n    component: React.createElement(_Input, {\n      placeholder: \"\\u8BF7\\u8F93\\u5165\\u4EA4\\u6362\\u673A\\u7F16\\u53F7\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    })\n  }, {\n    label: \"来自柜台\",\n    id: \"counterUserId\",\n    component: React.createElement(_Input, {\n      readOnly: true,\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    })\n  }, {\n    label: \"业务类型\",\n    id: \"businessType\",\n    component: React.createElement(_Input, {\n      readOnly: true,\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    })\n  }, {\n    label: \"登录状态\",\n    id: \"loginStatus\",\n    component: React.createElement(_Input, {\n      readOnly: true,\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    })\n  }, {\n    label: \"客户类型\",\n    id: \"clientType\",\n    component: React.createElement(_Input, {\n      readOnly: true,\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    })\n  }, {\n    label: \"算法平台用户Id\",\n    id: \"uuserId\",\n    component: React.createElement(_Input, {\n      readOnly: true,\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    })\n  }, {\n    label: \"创建时间\",\n    id: \"createTime\",\n    component: React.createElement(_Input, {\n      readOnly: true,\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    })\n  }];\n};\n\nvar CounterGw =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(CounterGw, _React$PureComponent);\n\n  function CounterGw() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, CounterGw);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CounterGw)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.columns = function (params) {\n      return [{\n        title: \"用户ID\",\n        dataIndex: \"userId\"\n      }, {\n        title: \"用户名\",\n        dataIndex: \"userName\"\n      }, {\n        title: \"柜台网关Id\",\n        dataIndex: \"counterGwId\"\n      }, {\n        title: \"来自柜台\",\n        dataIndex: \"counterUserId\"\n      }, {\n        title: \"业务类型\",\n        dataIndex: \"businessType\"\n      }, {\n        title: \"登录状态\",\n        dataIndex: \"loginStatus\"\n      }, {\n        title: \"客户类型\",\n        dataIndex: \"clientType\"\n      }, {\n        title: \"算法平台用户Id\",\n        dataIndex: \"uuserId\",\n        width: 150\n      }, {\n        title: \"创建时间\",\n        dataIndex: \"createTime\"\n      }];\n    };\n\n    _this.state = {\n      searchLoading: false,\n      selectRow: [],\n      info: [],\n      updateModalVisible: false,\n      riskGroup: [],\n      userRiskConfig: {}\n    };\n\n    _this.setUpdateModal = function (_ref) {\n      var form = _ref.form,\n          record = _ref.record;\n      // console.log(record, form);\n      _this.record = record;\n      form.setFieldsValue({\n        userId: record.userId,\n        userName: record.userName,\n        counterGwId: record.counterGwId,\n        counterUserId: record.counterUserId,\n        businessType: record.businessType,\n        loginStatus: record.loginStatus,\n        clientType: record.clientType,\n        uuserId: record.uuserId,\n        createTime: record.createTime\n      });\n    };\n\n    _this.getData = function () {\n      var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      // params.token = \"\";\n      http.get({\n        url: \"/counter-user-info/list\",\n        data: params\n      }).then(function (res) {\n        console.log(res); //解析数据字典\n\n        if (res.data.length > 0) {\n          parseDict(res.data);\n          showStip(_assertThisInitialized(_this));\n        } else {\n          _message.info(\"查询结果为空\");\n        }\n\n        _this.setState({\n          info: res.data\n        });\n      });\n    };\n\n    _this.handleSearch = function (params) {\n      _this.getData(params);\n    };\n\n    _this.handleUpdateRecord = function (_ref2) {\n      var form = _ref2.form;\n      var formData = form.getFieldsValue();\n      var params = {};\n      params.UuserId = _this.record.uuserId;\n      params.BusinessType = 1;\n\n      var dataArr = _this.record.businessType.split(\"-\");\n\n      console.log(dataArr);\n\n      if (dataArr.length == 2) {\n        params.BusinessType = dataArr[0] / 1;\n      }\n\n      params.GwId = formData.counterGwId / 1;\n      console.log(\"更新记录\", params); // return;\n\n      http.post({\n        url: \"/counter-user-info/updateUserCounterGw\",\n        data: params\n      }).then(function (res) {\n        console.log(res);\n        _this.isAction = true; //解析数据字典\n\n        if (res.code == 0) {\n          _message.success(\"修改柜台网关Id成功\");\n\n          _this.getData();\n        } else {\n          _message.error(\"修改柜台网关Id失败\");\n        }\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(CounterGw, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getData();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var scroll = {\n        x: 1000,\n        y: 445\n      };\n      var info = this.state.info;\n      var getFieldDecorator = this.props.form.getFieldDecorator;\n      var labelCol = {\n        xs: 12\n      };\n      var wrapperCol = {\n        xs: 24 - labelCol.xs\n      };\n      var formItemLayout = {\n        labelCol: labelCol,\n        wrapperCol: wrapperCol\n      };\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, React.createElement(CurdComponent // rowKey={\"index\"}\n      // btnText2=\"查全部\"\n      , {\n        isShowSearchForm: false // onSearchClick={this.handleSearch}\n        // getSearchFormFields={getSearchFormFields}\n        // searchLoading={this.state.searchLoading}\n        // insertBtnText={\"新增UOE配置\"} // 不传 就没新增按钮\n        // getInsertFormFields={getInsertFormFields}\n        // insertRecord={this.handleInsertRecord}\n        // col=\"2\"\n        ,\n        width: \"600px\",\n        updateModalText: \"\\u4FEE\\u6539\\u67DC\\u53F0\\u7F51\\u5173Id\",\n        getUpdateFormFields: getUpdateFormFields,\n        setUpdateModal: this.setUpdateModal,\n        updateRecord: this.handleUpdateRecord // 不传 就没编辑\n        // deleteRecord={this.handleDeleteRecord} // 不传 就没删除\n        ,\n        centered: true,\n        columns: this.columns,\n        dataSource: info,\n        scroll: scroll // rowSelection={rowSelection} //批量选择 操作\n        ,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return CounterGw;\n}(React.PureComponent);\n\nexport default _Form.create()(CounterGw);","map":{"version":3,"sources":["D:/company/algo-manage/src/algo/modules/manage/pages/counterGw/index.js"],"names":["React","CurdComponent","styles","getSearchFormFields","label","id","component","getUpdateFormFields","rules","required","message","CounterGw","columns","params","title","dataIndex","width","state","searchLoading","selectRow","info","updateModalVisible","riskGroup","userRiskConfig","setUpdateModal","form","record","setFieldsValue","userId","userName","counterGwId","counterUserId","businessType","loginStatus","clientType","uuserId","createTime","getData","http","get","url","data","then","res","console","log","length","parseDict","showStip","setState","handleSearch","handleUpdateRecord","formData","getFieldsValue","UuserId","BusinessType","dataArr","split","GwId","post","isAction","code","success","error","scroll","x","y","getFieldDecorator","props","labelCol","xs","wrapperCol","formItemLayout","PureComponent","create"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport CurdComponent from \"@/components/CurdComponent\";\r\n// import SelectOption from \"@/components/SelectOption\";\r\nimport { Input, Modal, Radio, Form, message, Switch } from \"antd\";\r\nimport styles from \"./style.module.less\";\r\n\r\nlet getSearchFormFields = () => {\r\n    return [\r\n        // {\r\n        //     label: \"保证金账户\",\r\n        //     id: \"assetAccount\",\r\n        //     component: <Input placeholder=\"请输入保证金账户\" />,\r\n        // },\r\n        {\r\n            label: \"用户ID\",\r\n            // id: \"userId\",\r\n            id: \"user_id\",\r\n            component: <Input placeholder=\"请输入用户ID\" />,\r\n        },\r\n    ];\r\n};\r\nconst getUpdateFormFields = () => {\r\n    return [\r\n        {\r\n            label: \"用户ID\",\r\n            id: \"userId\",\r\n            component: <Input readOnly disabled />,\r\n        },\r\n        {\r\n            label: \"用户名\",\r\n            id: \"userName\",\r\n            component: <Input readOnly disabled />,\r\n        },\r\n        {\r\n            label: \"柜台网关Id\",\r\n            id: \"counterGwId\",\r\n            rules: [\r\n                {\r\n                    required: true,\r\n                    message: \"柜台网关Id不能为空\",\r\n                },\r\n            ],\r\n            component: <Input placeholder=\"请输入交换机编号\" />,\r\n        },\r\n        {\r\n            label: \"来自柜台\",\r\n            id: \"counterUserId\",\r\n            component: <Input readOnly disabled />,\r\n        },\r\n        {\r\n            label: \"业务类型\",\r\n            id: \"businessType\",\r\n            component: <Input readOnly disabled />,\r\n        },\r\n        {\r\n            label: \"登录状态\",\r\n            id: \"loginStatus\",\r\n            component: <Input readOnly disabled />,\r\n        },\r\n        {\r\n            label: \"客户类型\",\r\n            id: \"clientType\",\r\n            component: <Input readOnly disabled />,\r\n        },\r\n        {\r\n            label: \"算法平台用户Id\",\r\n            id: \"uuserId\",\r\n            component: <Input readOnly disabled />,\r\n        },\r\n        {\r\n            label: \"创建时间\",\r\n            id: \"createTime\",\r\n            component: <Input readOnly disabled />,\r\n        },\r\n    ];\r\n};\r\nclass CounterGw extends React.PureComponent {\r\n    columns = (params) => {\r\n        return [\r\n            {\r\n                title: \"用户ID\",\r\n                dataIndex: \"userId\",\r\n            },\r\n            {\r\n                title: \"用户名\",\r\n                dataIndex: \"userName\",\r\n            },\r\n            {\r\n                title: \"柜台网关Id\",\r\n                dataIndex: \"counterGwId\",\r\n            },\r\n            {\r\n                title: \"来自柜台\",\r\n                dataIndex: \"counterUserId\",\r\n            },\r\n            {\r\n                title: \"业务类型\",\r\n                dataIndex: \"businessType\",\r\n            },\r\n            {\r\n                title: \"登录状态\",\r\n                dataIndex: \"loginStatus\",\r\n            },\r\n            {\r\n                title: \"客户类型\",\r\n                dataIndex: \"clientType\",\r\n            },\r\n            {\r\n                title: \"算法平台用户Id\",\r\n                dataIndex: \"uuserId\",\r\n                width: 150,\r\n            },\r\n            {\r\n                title: \"创建时间\",\r\n                dataIndex: \"createTime\",\r\n            },\r\n        ];\r\n    };\r\n\r\n    state = {\r\n        searchLoading: false,\r\n        selectRow: [],\r\n        info: [],\r\n        updateModalVisible: false,\r\n        riskGroup: [],\r\n        userRiskConfig: {},\r\n    };\r\n    //填入更新数据\r\n    setUpdateModal = ({ form, record }) => {\r\n        // console.log(record, form);\r\n        this.record = record;\r\n        form.setFieldsValue({\r\n            userId: record.userId,\r\n            userName: record.userName,\r\n            counterGwId: record.counterGwId,\r\n            counterUserId: record.counterUserId,\r\n            businessType: record.businessType,\r\n            loginStatus: record.loginStatus,\r\n            clientType: record.clientType,\r\n            uuserId: record.uuserId,\r\n            createTime: record.createTime,\r\n        });\r\n    };\r\n    getData = (params = {}) => {\r\n        // params.token = \"\";\r\n        http.get({\r\n            url: \"/counter-user-info/list\",\r\n            data: params,\r\n        }).then((res) => {\r\n            console.log(res);\r\n            //解析数据字典\r\n            if (res.data.length > 0) {\r\n                parseDict(res.data);\r\n                showStip(this);\r\n            } else {\r\n                message.info(\"查询结果为空\");\r\n            }\r\n            this.setState({\r\n                info: res.data,\r\n            });\r\n        });\r\n    };\r\n    handleSearch = (params) => {\r\n        this.getData(params);\r\n    };\r\n    //更新记录\r\n    handleUpdateRecord = ({ form }) => {\r\n        let formData = form.getFieldsValue();\r\n        let params = {};\r\n        params.UuserId = this.record.uuserId;\r\n        params.BusinessType = 1;\r\n        let dataArr = this.record.businessType.split(\"-\");\r\n        console.log(dataArr);\r\n        if (dataArr.length == 2) {\r\n            params.BusinessType = dataArr[0] / 1;\r\n        }\r\n        params.GwId = formData.counterGwId / 1;\r\n        console.log(\"更新记录\", params);\r\n        // return;\r\n        http.post({\r\n            url: \"/counter-user-info/updateUserCounterGw\",\r\n            data: params,\r\n        }).then((res) => {\r\n            console.log(res);\r\n            this.isAction = true;\r\n            //解析数据字典\r\n            if (res.code == 0) {\r\n                message.success(\"修改柜台网关Id成功\");\r\n                this.getData();\r\n            } else {\r\n                message.error(\"修改柜台网关Id失败\");\r\n            }\r\n        });\r\n    };\r\n    componentDidMount() {\r\n        this.getData();\r\n    }\r\n    render() {\r\n        let scroll = { x: 1000, y: 445 };\r\n        let info = this.state.info;\r\n        let { getFieldDecorator } = this.props.form;\r\n        let labelCol = {\r\n            xs: 12,\r\n        };\r\n        let wrapperCol = {\r\n            xs: 24 - labelCol.xs,\r\n        };\r\n        let formItemLayout = {\r\n            labelCol,\r\n            wrapperCol,\r\n        };\r\n        return (\r\n            <div>\r\n                <CurdComponent\r\n                    // rowKey={\"index\"}\r\n                    // btnText2=\"查全部\"\r\n                    isShowSearchForm={false}\r\n                    // onSearchClick={this.handleSearch}\r\n                    // getSearchFormFields={getSearchFormFields}\r\n                    // searchLoading={this.state.searchLoading}\r\n                    // insertBtnText={\"新增UOE配置\"} // 不传 就没新增按钮\r\n                    // getInsertFormFields={getInsertFormFields}\r\n                    // insertRecord={this.handleInsertRecord}\r\n                    // col=\"2\"\r\n                    width=\"600px\"\r\n                    updateModalText=\"修改柜台网关Id\"\r\n                    getUpdateFormFields={getUpdateFormFields}\r\n                    setUpdateModal={this.setUpdateModal}\r\n                    updateRecord={this.handleUpdateRecord} // 不传 就没编辑\r\n                    // deleteRecord={this.handleDeleteRecord} // 不传 就没删除\r\n                    centered={true}\r\n                    columns={this.columns}\r\n                    dataSource={info}\r\n                    scroll={scroll}\r\n                    // rowSelection={rowSelection} //批量选择 操作\r\n                ></CurdComponent>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default Form.create()(CounterGw);\r\n"]},"metadata":{},"sourceType":"module"}